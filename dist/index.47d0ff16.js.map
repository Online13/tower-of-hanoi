{"mappings":"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","sources":["node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@swc/helpers/src/_define_property.mjs","assets/scripts/Tuil.ts","assets/scripts/App.ts","assets/scripts/StorageService.ts","assets/scripts/index.ts"],"sourcesContent":["export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","\n\n/**\n * represent a simple tuil.\n * we handle position, render and animation of the tuil here\n *\n * @class Tuil\n */\nclass Tuil {\n\n    private id: number;\n    private current_stack: number;\n    private object: HTMLDivElement | undefined;\n\n    /**\n     * store the dimension of some environment HTML elements.\n     * We need it in @method moveTo to make animation.\n     * @static\n     * @type {{ [key: string]: number }}\n     * @memberof Tuil\n     */\n    static global: { [key: string]: number } = {};\n\n    /**\n     * list of possible color of the tuil\n     * @static\n     * @memberof Tuil\n     */\n    static COLORS = [ \"rgb(244, 70, 70)\", \"rgb(249, 255, 59)\", \"rgb(19, 240, 136)\", \"rgb(57, 134, 255)\", \"rgb(255, 154, 23)\" ];\n    \n    /**\n     * animation duration of the tuil when he move\n     * @static\n     * @memberof Tuil\n     */\n    static DURATION = 200;\n\n    /**\n     * animation delay of the tuil on each move\n     *\n     * @static\n     * @memberof Tuil\n     */\n    static DELAY = 200;\n\n    /**\n     * maximum number of tuil\n     *\n     * @static\n     * @memberof Tuil\n     */\n    static MAX = 0;\n    \n    /**\n     * Creates an instance of Tuil.\n     * @param {number} id the _id of an instance of tuil\n     * @param {number} stack the column where the tuil begin\n     * @memberof Tuil\n     */\n    constructor(id: number, stack: number) {\n        this.id = id;\n        this.current_stack = stack;\n        this.object = undefined;\n    }\n\n\n    /**\n     * handle animation when we move this instance of tuil to given stack\n     *\n     * @param {AbortSignal} signal we need that to stop all setTimeout in that method\n     * @param {number} stack the next stack of this tuil\n     * @param {number} tuils the number of tuils on this given stack\n     * @returns {Promise<void>}\n     * @memberof Tuil\n     */\n    async moveTo( signal: AbortSignal, stack: number, tuils: number): Promise<void> {\n\n        // console.log(`[${this.id}] ${this.current_stack} move to ${stack}`);\n        // move to top\n        (this.object as HTMLDivElement).style.transition = `transform ${Tuil.DURATION}ms`;\n\n        const top = -1 * (Tuil.global.parentHeight - Tuil.global.intermediateHeight + 20);\n\n        await new Promise((next) => {\n            const id = setTimeout(() => {\n                (this.object as HTMLDivElement).style.transform = \n                    `translate(\n                        calc(${this.current_stack} * var(--max-size-zone) + (var(--max-size-zone) / 2 - 50%)),\n                       ${top}px\n                    )`;\n                next(null);\n            }, Tuil.DURATION);\n\n            signal.addEventListener('abort', e => {\n                clearTimeout(id);\n            });\n        });\n\n        await new Promise(next => {\n            const id = setTimeout(() => {\n                this.current_stack = stack;\n                next(null);\n            }, Tuil.DELAY);\n\n            signal.addEventListener('abort', e => {\n                clearTimeout(id);\n            });\n        });\n\n        await new Promise((next) => {\n            const id = setTimeout(() => {\n                (this.object as HTMLDivElement).style.transform = \n                    `translate(\n                        calc(${stack} * var(--max-size-zone) + (var(--max-size-zone) / 2 - 50%)),\n                        ${top}px\n                    )`;\n                next(null);\n            }, Tuil.DURATION);\n\n            signal.addEventListener('abort', e => {\n                clearTimeout(id);\n            });\n        });\n\n        await new Promise(next => {\n            const id = setTimeout(() => {\n                next(null);\n            }, Tuil.DELAY);\n\n            signal.addEventListener('abort', e => {\n                clearTimeout(id);\n            });\n        });\n\n        await new Promise((next) => {\n            const id = setTimeout(() => {\n                (this.object as HTMLDivElement).style.transform = \n                    `translate(\n                        calc(${stack} * var(--max-size-zone) + (var(--max-size-zone) / 2 - 50%)),\n                        calc(var(--tuil-height) * ${-1 * (tuils-1)})\n                    )`;\n                next(null);\n            }, Tuil.DURATION);\n\n            signal.addEventListener('abort', e => {\n                clearTimeout(id);\n            });\n        });\n\n    }\n\n\n    /**\n     * init position and transition of this tuil \n     *\n     * @param {number} top position of tuil at first\n     * @memberof Tuil\n     */\n    initPosition(top: number) : void {\n        (this.object as HTMLDivElement).style.transition = `transform ${Tuil.DURATION}ms`;\n        (this.object as HTMLDivElement).style.transform = \n            `translate(\n                calc(${this.current_stack} * var(--max-size-zone) + (var(--max-size-zone) / 2 - 50%)),\n                calc(${-top} * var(--tuil-height))\n            )`;\n    }\n\n\n    /**\n     * create instance of HTMLDivElement that represente the tuil in HTML.\n     * We initialize the color and his size here\n     *\n     * @return {HTMLDivElement}\n     * @memberof Tuil\n     */\n    render(): HTMLDivElement {\n        const tuil = document.createElement('div');\n        tuil.dataset.index = (this.id+1).toString();\n        tuil.dataset.stack = (this.current_stack).toString();\n        tuil.classList.add('tuil');\n        \n\n        const value: string = Tuil.COLORS[this.id % Tuil.COLORS.length];\n        Object.assign(tuil.style, {\n            backgroundColor: value,\n            width: `calc(var(--max-size-zone) * ${(this.id + 1) / (Tuil.MAX + 2)})`\n        });\n        this.object = tuil;\n\n        return this.object;\n    }\n\n\n    /**\n     * getter for the tuil in HTML\n     *\n     * @return {*}  {(HTMLElement | undefined)}\n     * @memberof Tuil\n     */\n    getHTMLElement(): HTMLElement | undefined {\n        return this.object;\n    }\n\n}\n\nexport default Tuil;","import { StorageService } from \"./StorageService.ts\";\nimport Tuil from \"./Tuil.ts\";\n\ntype UserMove = { from: number | null, to: number | null };\n\n/**\n * represent our App\n *\n * @class App\n */\nclass App {\n\n    #size: number;\n    #tuils: Tuil[];\n    #stack: number[][];\n    #controller: AbortController;\n    #signal: AbortSignal;\n    #userMove: UserMove;\n\n    constructor(private storageService: StorageService) {\n        this.#stack = [];\n        this.#tuils = [];\n        Tuil.global.intermediateHeight = 80;\n        Tuil.MAX = +this.storageService.get(\"@HANOI_MAX\") || 5;\n        Tuil.DURATION = +this.storageService.get(\"@HANOI_DURATION\");\n        Tuil.DELAY = +this.storageService.get(\"@HANOI_DELAY\");\n        this.#size = Tuil.MAX;\n        this.#controller = new AbortController();\n        this.#signal = this.#controller.signal;\n        this.#userMove = { from: null, to: null };\n    }\n\n    /**\n     * use especially on debug.\n     * It display the game on console\n     *\n     * @private\n     * @memberof App\n     */\n    private display() {\n        const max = this.#size;\n        for (let i = 0; i < max - 1; i++) {\n            console.log(`${this.#stack[0][max - 1 - i] ?? \" \"}    ${this.#stack[1][max - 1 - i] ?? \" \"}    ${this.#stack[2][max - 1 - i] ?? \" \"}`);\n        }\n        console.log(`${this.#stack[0][0] ?? \".\"}    ${this.#stack[1][0] ?? \".\"}    ${this.#stack[2][0] ?? \".\"}`);\n        console.log(\"-----------\");\n    }\n\n\n    /**\n     * move a tuil at {from} stack to {to} stack\n     *\n     * @private\n     * @param {number} from the stack where we begin\n     * @param {number} to the destination stack\n     * @returns {Promise<void>}\n     * @memberof App\n     */\n    private async move(from: number, to: number): Promise<void> {\n        // if the game need to stop, we stop the move\n        if (!this.#signal.aborted && this.#stack[from].length > 0) { \n            // that exaclty what happen in back\n            // we remove a tuil at first on {from} stack\n            // and we add it at first of {to} stack\n            let v = (this.#stack[from].pop() as number);\n            this.#stack[to].push(v);\n            // we animate that here\n            await this.#tuils[v - 1].moveTo(this.#signal, to, this.#stack[to].length);\n        }\n    }\n\n\n    /**\n     * that resolve the hanoi problem using recursive algorithm\n     *\n     * @private\n     * @param {number} n the stack we move\n     * @param {number} x init position\n     * @param {number} y destination position\n     * @param {number} z intermediary position\n     * @return {Promise<void>} \n     * @memberof App\n     */\n    private async hanoi(n: number, x: number, y: number, z: number): Promise<void> {\n        if (this.#signal.aborted || n === 0)\n            return;\n        await this.hanoi(n - 1, x, z, y);\n        await this.move(x, y);\n        await this.hanoi(n - 1, z, y, x);\n    }\n\n\n    /**\n     * handle event on this App\n     * @memberof App\n     */\n    public handleEvents() {\n\n        const portal = document.querySelector('.portal');\n        const modal =  document.querySelector('.modal');\n        const sidebar_setting = document.querySelector('.sidebar-setting');\n        const selected_zones = document.querySelectorAll<HTMLDivElement>('.zone-item');\n\n        const btn_info = document.querySelector('.btn-info');\n        const btn_close_about = document.querySelector('.btn-close-about');\n        const btn_solve = document.querySelector('.btn-solve');\n        const btn_setting = document.querySelector('.btn-setting');\n\n        const inputNbDisc = document.querySelector('#nbDiscInput');\n        const outputNbDisc = document.querySelector('#nbDiscOutput');\n\n        const durationInput = document.querySelector('#durationInput');\n        const durationOutput = document.querySelector('#durationOutput');\n\n        const delayInput = document.querySelector('#delayInput');\n        const delayOutput = document.querySelector('#delayOutput');\n\n        btn_info?.addEventListener('click', e => {\n            portal?.classList.add('show');\n        });\n        modal?.addEventListener('click', e => {\n            e.stopPropagation();\n        })\n        btn_close_about?.addEventListener('click', e => {\n            portal?.classList.remove('show');\n        });\n        portal?.addEventListener('click', e => {\n            portal?.classList.remove('show');\n        });\n        btn_solve?.addEventListener('click', e => {\n            this.init();\n            this.hanoi(this.#size, 0, 2, 1)\n                .then(() => this.display);\n        });\n        btn_setting?.addEventListener('click', e => {\n            sidebar_setting?.classList.toggle('show');\n        });\n\n        (inputNbDisc as HTMLInputElement).value = this.#size.toString();\n        (outputNbDisc as HTMLInputElement).innerHTML = this.#size.toString();\n\n        (durationInput as HTMLInputElement).value = Tuil.DURATION.toString();\n        (durationOutput as HTMLInputElement).innerHTML = Tuil.DURATION.toString();\n\n        (delayInput as HTMLInputElement).value = Tuil.DELAY.toString();\n        (delayOutput as HTMLInputElement).innerHTML = Tuil.DELAY.toString();\n\n        inputNbDisc?.addEventListener('input', e => {\n            this.#controller.abort();\n            const value = (inputNbDisc as HTMLInputElement).value;\n            (outputNbDisc as HTMLInputElement).innerHTML = value;\n            Tuil.MAX = +value;\n            this.init(),\n            this.storageService.set(\"@HANOI_MAX\", Tuil.MAX.toString());\n        });\n\n        durationInput?.addEventListener('input', e => {\n            const value = (durationInput as HTMLInputElement).value;\n            (durationOutput as HTMLInputElement).innerHTML = value;\n            Tuil.DURATION = +value;\n            this.storageService.set(\"@HANOI_DURATION\", Tuil.DURATION.toString());\n        });\n\n        delayInput?.addEventListener('input', e => {\n            const value = (delayInput as HTMLInputElement).value;\n            (delayOutput as HTMLInputElement).innerHTML = value;\n            Tuil.DELAY = +value;\n            this.storageService.set(\"@HANOI_DELAY\", Tuil.DELAY.toString());\n        });\n\n        selected_zones.forEach((zone: HTMLDivElement, id) => {\n            zone.addEventListener('click', (event: MouseEvent) => {\n                console.log(id);\n                if (this.#userMove.from === null) {\n                    if (this.#stack[id].length > 0) {\n                        this.#userMove.from = id;\n                        document.querySelector(`.zone-item.zone-${id+1}`)?.classList.add('from');\n                    }\n                } else {\n                    const fromStack = this.#stack[this.#userMove.from];\n                    const toStack = this.#stack[id];\n                    if (toStack.length === 0 || fromStack[fromStack.length - 1] < toStack[toStack.length - 1]) {\n                        this.#userMove.to = id;\n                        document.querySelector(`.zone-item.zone-${id+1}`)?.classList.add('to');\n                        this.move(this.#userMove.from, this.#userMove.to).then(() => {\n                            document.querySelector(`.zone-item.zone-${(this.#userMove.from as number) + 1}`)?.classList.remove('from');\n                            document.querySelector(`.zone-item.zone-${(this.#userMove.to as number) + 1}`)?.classList.remove('to');\n                            this.#userMove.from = null;\n                            this.#userMove.to = null;\n                        });\n                    }\n                }\n            });\n        });\n    }\n    /**\n     * init this App\n     * @param {number} size \n     */\n    public init() {\n\n        this.#size = Tuil.MAX;\n        this.#controller = new AbortController();\n        this.#signal = this.#controller.signal;\n\n        const content = (document.querySelector('.content') as HTMLDivElement);\n        content.style.height = `calc(var(--tuil-height) * ${this.#size + 5} + ${Tuil.global.intermediateHeight}px )`;\n        const zoneList = (document.querySelector('.zone-list') as HTMLDivElement);\n        const zoneList2 = (document.querySelector('.zone-to-select') as HTMLDivElement);\n        zoneList.style.height = `calc(var(--tuil-height) * ${this.#size + 5})`;\n        zoneList2.style.height = `calc(var(--tuil-height) * ${this.#size + 5})`;\n        zoneList2.style.top = `${Tuil.global.intermediateHeight}px`;\n\n        Tuil.global.parentHeight = content.getBoundingClientRect().height;\n\n        for (const tuil of this.#tuils) {\n            content.removeChild((tuil.getHTMLElement() as HTMLDivElement));\n        }\n\n        this.#stack = [];\n        this.#tuils = [];\n\n        for (let i = 0; i < 3; i++)\n            this.#stack[i] = [];\n\n        // init stack\n        for (let i = 0; i < this.#size; i++)\n            this.#stack[0][i] = this.#size - i;\n\n        // init tuil\n        for (let i = 0; i < this.#size; i++) {\n            this.#tuils.push(new Tuil(i, 0));\n            content.appendChild(this.#tuils[i].render());\n            this.#tuils[i].initPosition(this.#size - i - 1);\n        }\n\n    }\n\n}\n\n\nexport default App;","type StorageKey = '@HANOI_DURATION' | '@HANOI_DELAY' | '@HANOI_MAX' | '@HANOI_SEEN';\n\nexport class StorageService {\n    \n    readonly sessionKey = { '@HANOI_SEEN': null };\n    readonly localKey = { '@HANOI_DURATION': null, '@HANOI_DELAY': null, '@HANOI_MAX': null };\n\n    constructor() {}\n\n    public set(key: StorageKey, value: string) : void {\n        let storage: Storage | null = null;\n        if (key in this.sessionKey) {\n            storage = sessionStorage;\n        } else {\n            storage = localStorage;\n        }\n        storage.setItem(key, value);\n    }\n\n    public get(key: StorageKey) : string {\n        let storage: Storage | null = null;\n        if (key in this.sessionKey) {\n            storage = sessionStorage;\n        } else {\n            storage = localStorage;\n        }\n        return (storage.getItem(key) === null)? \"\" : (storage.getItem(key) as string);\n    }\n}\n\nexport default Object.freeze(new StorageService());","import App from \"./App.ts\";\nimport storageService from \"./StorageService.ts\";\n\nwindow.addEventListener('load', (e) => {\n    // to handle the splash screen at first\n    // it's only once\n    if (storageService.get('@HANOI_SEEN').length > 0) {\n        setTimeout(() => {\n            document.querySelector('.loader')?.classList.add('hidden');\n            storageService.set('@HANOI_SEEN', '1');\n        }, 2000); \n    } else {\n        const loader = document.querySelector('.loader') as HTMLDivElement;\n        loader.style.transition = \"none\";\n        loader.classList.add('hidden');\n    }\n    const app = new App(storageService);\n    app.init();\n    app.handleEvents();    \n});"],"names":["$63a2a9cb56255ced$export$2e2bcd8739ae039","receiver","privateMap","action","has","TypeError","get","$91f06d233fb295cb$export$2e2bcd8739ae039","descriptor","call","value","$cfafd7bd727718cb$export$2e2bcd8739ae039","$3b30310a11d769ec$export$2e2bcd8739ae039","obj","privateCollection","$a33675d45e16a910$export$2e2bcd8739ae039","set","$613067712a285d8d$export$2e2bcd8739ae039","writable","$97039f73d3457507$export$2e2bcd8739ae039","$bb9a5d09fff8458d$export$2e2bcd8739ae039","key","Object","defineProperty","enumerable","configurable","$5fb53a26a8b3bd5c$var$Tuil","async","signal","stack","tuils","this","object","style","transition","DURATION","top","global","parentHeight","intermediateHeight","Promise","next","id","setTimeout","transform","current_stack","addEventListener","e","clearTimeout","DELAY","initPosition","render","tuil","document","createElement","dataset","index","toString","classList","add","COLORS","length","assign","backgroundColor","width","MAX","getHTMLElement","constructor","undefined","$5fb53a26a8b3bd5c$export$2e2bcd8739ae039","$c76f163ab62bd3c1$var$_size","WeakMap","$c76f163ab62bd3c1$var$_tuils","$c76f163ab62bd3c1$var$_stack","$c76f163ab62bd3c1$var$_controller","$c76f163ab62bd3c1$var$_signal","$c76f163ab62bd3c1$var$_userMove","$c76f163ab62bd3c1$export$2e2bcd8739ae039","display","max","ref","ref1","ref2","ref3","ref4","ref5","i","console","log","from","to","aborted","v","pop","push","moveTo","n","x","y","z","hanoi","move","handleEvents","portal","querySelector","modal","sidebar_setting","selected_zones","querySelectorAll","btn_info","btn_close_about","btn_solve","btn_setting","inputNbDisc","outputNbDisc","durationInput","durationOutput","delayInput","delayOutput","stopPropagation","remove","init","then","toggle","innerHTML","abort","storageService","forEach","zone","event","fromStack","toStack","AbortController","content","height","zoneList","zoneList2","getBoundingClientRect","removeChild","i1","i2","appendChild","$22b209294a360897$export$2e2bcd8739ae039","freeze","storage","sessionKey","sessionStorage","localStorage","setItem","getItem","window","loader","app"],"version":3,"file":"index.47d0ff16.js.map"}